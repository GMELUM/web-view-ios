<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, shrink-to-fit=no, user-scalable=no, viewport-fit=cover, minimum-scale=1, maximum-scale=1" />
    <title>WebView Test</title>

    <style>
        body {
            margin: 0;
            padding-top: var(--safe-area-inset-top);
            padding-bottom: var(----safe-area-inset-bottom);
            font-family: -apple-system, system-ui, Helvetica Neue, Roboto, sans-serif;
        }

        div,
        span {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .group {
            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            justify-content: flex-start;
            padding: 12px;
            border: 1px solid #e5e5e5;
            border-radius: 6px;
        }

        .group button {
            background-color: rgba(51, 51, 51, 0.05);
            border-radius: 8px;
            border-width: 0;
            color: #333333;
            cursor: pointer;
            display: inline-block;
            font-family: "Haas Grot Text R Web", "Helvetica Neue", Helvetica, Arial, sans-serif;
            font-size: 14px;
            font-weight: 500;
            line-height: 20px;
            list-style: none;
            margin: 0;
            padding: 10px 12px;
            text-align: center;
            transition: all 200ms;
            vertical-align: baseline;
            white-space: nowrap;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
            margin: 6px 0;
        }

        .header {
            display: block;
            padding: 12px;
            font-size: 16pt;
            font-weight: bold;
            font-variant: all-small-caps;
        }
        
        @supports (padding-top: constant(safe-area-inset-top)) {
          :root {
            --safe-area-inset-top: constant(safe-area-inset-top);
            --safe-area-inset-right: constant(safe-area-inset-right);
            --safe-area-inset-bottom: constant(safe-area-inset-bottom);
            --safe-area-inset-left: constant(safe-area-inset-left);
          }
        }

        @supports (padding-top: env(safe-area-inset-top)) {
          :root {
            --safe-area-inset-top: env(safe-area-inset-top);
            --safe-area-inset-right: env(safe-area-inset-right);
            --safe-area-inset-bottom: env(safe-area-inset-bottom);
            --safe-area-inset-left: env(safe-area-inset-left);
          }
        }
        
    </style>

</head>

<body>

    <div class="header">SYSTEM</div>
    <div class="group">
        <button id="loaderButton">Open Loader</button>
        <button id="qrButton">Open scan QR</button>
    </div>


    <div class="header">TAPTIC</div>
    <div class="group">

        <button id="tapticLightButton">LIGHT TAPTIC</button>
        <button id="tapticMediumButton">MEDIUM TAPTIC</button>
        <button id="tapticHeavyButton">HEAVY TAPTIC</button>

        <button id="tapticSuccessButton">SUCCESS NOTIFICATION</button>
        <button id="tapticWarningButton">WARNING NOTIFICATION</button>
        <button id="tapticErrorButton">ERROR NOTIFICATION</button>

        <button id="tapticSelectionButton">SELECTION CHANGE</button>

    </div>

    <script>
        document.getElementById("tapticLightButton").addEventListener("click", function () {
            window.webkit.messageHandlers.nativeapp.postMessage([0, "taptic.impact", {
                style: "light"
            }]);
        });

        document.getElementById("tapticMediumButton").addEventListener("click", function () {
            window.webkit.messageHandlers.nativeapp.postMessage([0, "taptic.impact", {
                style: "medium"
            }]);
        });

        document.getElementById("tapticHeavyButton").addEventListener("click", function () {
            window.webkit.messageHandlers.nativeapp.postMessage([0, "taptic.impact", {
                style: "heavy"
            }]);
        });

        document.getElementById("tapticSuccessButton").addEventListener("click", function () {
            window.webkit.messageHandlers.nativeapp.postMessage([0, "taptic.notification", {
                type: "success"
            }]);
        });

        document.getElementById("tapticWarningButton").addEventListener("click", function () {
            window.webkit.messageHandlers.nativeapp.postMessage([0, "taptic.notification", {
                type: "warning"
            }]);
        });

        document.getElementById("tapticErrorButton").addEventListener("click", function () {
            window.webkit.messageHandlers.nativeapp.postMessage([0, "taptic.notification", {
                type: "error"
            }]);
        });

        document.getElementById("tapticSelectionButton").addEventListener("click", function () {
            window.webkit.messageHandlers.nativeapp.postMessage([0, "taptic.selection", {}]);
        });

        document.getElementById("qrButton").addEventListener("click", function () {
            let data = {};
            window.webkit.messageHandlers.nativeapp.postMessage([0, "camera.qr", data]);
        });

        document.getElementById("loaderButton").addEventListener("click", function () {
            window.webkit.messageHandlers.nativeapp.postMessage([0, "loader.show", {}]);
            setTimeout(() => {
                window.webkit.messageHandlers.nativeapp.postMessage([0, "loader.hide", {}]);
            }, 1000)
        });

        function _nativeapp_receive(requestID, event, response) {
            const responseElement = document.getElementById("responseCount");
            console.log("Получен ответ от native app: ", requestID, response);
        }

        window.webkit.messageHandlers.nativeapp.postMessage([0, "app.start", {}]);
    </script>
</body>

</html>
